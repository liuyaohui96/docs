
##  从输入 url 到展示的过程
* 在浏览器地址栏输入URL，开启一个线程进行处理
  * URL主要组成部分：`protocol :// hostname[:port] / path / [;parameters][?query]#fragment`
* 向DNS查询IP。域名解析的过程是逐级查询的
  * 浏览器缓存
  * 操作系统缓存
  * 在host文件中查找
  * 路由器缓存：有些路由器也有DNS缓存的功能，访问过的域名会存在路由器上
  * ISP DNS缓存。互联网服务提供商（如中国电信）也会提供DNS服务
  * 顶级DNS服务器/根DNS服务器。向根服务器发出请求，进行递归查询（如先问根域名服务器.com 域名服务器的 IP 地址，然后再问.baidu 域名服务器）

>  查询DNS服务器。把待解析的域名放在DNS请求报文中，以UDP（用户数据报）的形式发送给本地域名服务器（使用UDP可以减小开销）
> DNS 系统是一个联机分布式数据库系统，即使单个计算机出现了故障，也不会妨碍整个DNS系统的运转。DNS 查询有两个查询方式：一个递归查询(向上层服务器查询），一个是迭代查询（把其他DNS IP地址返回给请求主机，由请求主机继续向其他DNS服务器查询)；DNS 负载均衡：对于访问比较多的域名，为其配置多个IP地址，将客户端访问引导到不同的机器。（依据可能是每台机器的负载量或者机器离用户位置的距离等等）

* 经过TCP三次握手建立TCP连接（详细见网络-传输层-tcp三次握手）
* 根据IP地址和端口号，构造HTTP请求，并将HTTP请求报文封装到TCP包中，然后发送TCP包到服务器（HTTP请求报文见HTTP部分）
* 服务器处理请求，并返回 HTTP响应报文，同样封装到TCP包中传送到浏览器（大型网站往往通过Nginx这样的反向代理，将多个请求分配到不同的机器处理）
  * 服务器大部分按照按照MVC模型进行处理：简而言之，首先浏览器发送过来的请求先经过控制器，控制器进行逻辑处理和请求分发，接着会调用模型，这一阶段模型会获取 redis db 以及 MySQL 的数据，获取数据后将渲染好的页面，响应信息会以响应报文的形式返回给客户端，最后浏览器通过渲染引擎将网页呈现在用户面前

* 浏览器解析得到HTTP响应报文（响应报文格式见HTTP部分）
* 浏览器根据响应报文进行进行页面渲染（页面渲染见浏览器页面渲染）
* 四次挥手关闭TCP连接（详细见TCP四次挥手）
