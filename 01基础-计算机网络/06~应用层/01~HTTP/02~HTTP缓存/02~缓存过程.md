## 缓存过程

1. 浏览器第一次发起请求。不存在缓存，所以向服务器发起请求，根据服务器响应指示是否缓存响应

2. 后续对同一URL进行请求。首先判断是否存在缓存，如果不存在缓存，则像服务器发起请求，如果存在缓存
  * 判断是否命中强缓存 （cache-control和expires），如命中，直接从缓存获取资源，包括响应的 header信息，请求不会和服务器通信；
  * 如果没有命中强缓存（即缓存过期）。则使用协商缓存：浏览器会发送请求到服务器，请求会携带第一次请求返回的有关缓存的 header 信息（Etag/If-None-Match和Last-Modified/If-Modified-Since），首先检查ETag，请求头添加if-None-Match，然后检查Last-Modified，请求头添加if-Modified-since。协商缓存由服务器决定是否使用缓存，若协商缓存失效，那么代表该请求的缓存失效，返回200，重新返回资源和缓存标识，再存入浏览器缓存中；生效则返回304，继续使用缓存


> 当用户按下重新加载按钮时和缓存的响应包含“ Cache-control：must-revalidate”头部，都会触发协商缓存进行验证