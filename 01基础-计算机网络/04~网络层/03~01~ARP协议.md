ARP协议为IP协议提供服务，只能在本网段广播

```shell
# 查看缓存地址
arp -a

# 修改为静态缓存地址
arp -s IP MAC

# 清楚缓存
本地连接->支持->
```

## ARP地址解析协议
1. 每个主机都有一个ARP告诉缓存，里面有一个ARP映射表列表，表示IP地址和MAC地址之间的对应关系
2. 发送数据时，首先检查ARP列表，查询IP地址是否有对应的目标主机的MAC地址，如有，则直接发送到目的主机；如果没有，就向本网段的所有主机发送ARP数据包。（数据包内容包括源主机的IP地址，源主机的MAC地址，目的主机的IP地址）
3. 本网络的主机收到该ARP数据包后，首先检查IP地址是否是自己的IP地址，如果不是，则忽略该数据包，如果是，则从数据包中取出源主机的IP地址与MAC地址写入ARP列表中，如果已经存在，则进行覆盖，然后将自己的MAC地址写入到ARP响应包中，告诉源主机目的地址的MAC地址
4. 源主机收到ARP响应包后，将目的地址的IP和MAC写入到ARP列表中。如果源地址一直没有收到ARP响应包，表示ARP查询失败。

## RARP协议
RARP是逆地址解析协议，作用是完成硬件地址到IP地址的映射

> 主要用于无盘工作站，因为无盘工作站配置的IP地址不能保存。

过程：
1. 在网络中需要配置一台RARP服务器，保存着IP地址和MAC地址的映射关系
2. 网络上的一台主机，封装一个RARP数据包，里面有MAC地址，广播到网络上
3. RARP服务器收到请求包后，查找对应的MAC地址的IP地址装入到响应包中发回给请求者。
4. 请求主机收到响应后，就可以得到IP地址进行通信


## arp 欺骗
1. arp 欺骗充当收发方的中间者
2. arp 欺骗让源主机发送数据到不存在的主机(网络执法官)
3. arp 欺骗欺骗网关，控制流量(p2p终结者)