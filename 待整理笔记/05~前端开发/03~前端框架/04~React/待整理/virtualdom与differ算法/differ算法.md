传统的diff算法是利用循环递归的方式对所有节点依次对比,算法的复杂度为O(n^3),其中n为节点总数。

## differ算法
1. 按tree层级diff(level by level)
  因为WebUI中很少出现DOM的层级结构因为交互而产生更新，所以VirtualDOM的diff策略是在新旧节点树之间按层级进行diff得到差异，而非传统的按深度遍历搜索，这种通过大胆假设得到的改进方案，不仅符合实际场景的需要，而且大幅降低了算法实现复杂度，从O(n^3)提升至O(n)
    * 同一父节点的全部子节点，进行比较
       - 发现某一子节点不在了直接删除该节点以及其所有子节点
    * DOM节点跨层级的移动操作。React diff很‘暴力’的节点以及其所有子节点删除，然后再相应节点创建新的该节点

2. 按类型进行diff
  不同类型的节点所具有的子树节点之间结构往往差异明显，因此对不同类型的节点的子树进行diff的投入成本与产出比将会很高昂。为了提升diff效率，VirtualDOM只对相同类型的同一个节点进行diff，当新旧节点发生了类型的改变时，则并不进行子树的比较，直接创建新类型的VirtualDOM，替换旧节点。
  >  component diff:对于不同一类型组件，即使结构相似，如果是不同类型的组件，就不会比较二者的结构，而是直接删除旧的component，创建新的component;对于同一类型组件。用shouldComponentUpdate()判断Virtual DOM是否发生了变化，若没有变化就不需要在进行diff，这样可以节省大量时间，若变化了，就对相关节点进行update

3. 列表diff
没有key值的列表diff中，只能通过按顺序进行每个元素的对比，更新，插入与删除，在数据量较大的情况下，diff效率低下，设置key标识，能够快速识别新旧列表之间的变化内容，提升diff效率
